<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi cuenta T-Renting</title>
    <link rel="stylesheet" href="../styles/styleMain.css">
</head>
<body>
    <div class="header-content">
        <a href="../public/index.html">
            <img src="../styles/Logo_T.png" alt="Logo de la empresa" class="logo">
        </a>
        <h1>T-Renting</h1>
    </div>

    <!-- Menú desplegable con icono de 3 rayas -->
    <div class="dropdown">
        <button class="dropbtn">
            <div class="hamburger-icon"></div> <!-- Icono de las 3 rayas -->
        </button>
        <div class="dropdown-content">
            <a href="myaccount.html">Mi Perfil</a>
            <a href="mybookings.html">Mis Reservas</a>
            <a href="logout.php">Logout</a>
        </div>
    </div>
</header>

<!-- Menú principal -->
<nav class="menu-container">
    <ul class="menu-options">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="booking.html">Reservas</a></li>
        <li><a href="contact.html">Contacto</a></li>
    </ul>
</nav>
    
    <div class="container">
        <div class="">
            <label id="nombre">Nombre: Cargando...</label><br>
            <label id="apellido">Apellido: Cargando...</label><br>
            <label id="telefono">Teléfono: Cargando...</label><br>
            <label id="correo">Correo: Cargando...</label><br>
        </div>
    </div>

    <script>
        // Consumir la API con fetch
        fetch("userinfo.php")
            .then(response => response.json()) // Convertir la respuesta a JSON
            .then(data => {
                if (data.error) {
                    document.getElementById("name").innerText = "Nombre: " + data.error;
                    document.getElementById("lastname").innerText = "";
                    document.getElementById("phone").innerText = "";
                    document.getElementById("email").innerText = "";
                } else {
                    document.getElementById("name").innerText = "Nombre: " + data.nombre;
                    document.getElementById("lastname").innerText = "Apellido: " + data.apellido;
                    document.getElementById("phone").innerText = "Teléfono: " + data.telefono;
                    document.getElementById("email").innerText = "Correo: " + data.correo;
                }
            })
            .catch(error => console.error("Error al obtener datos:", error));
    </script>

</body>
</html>
